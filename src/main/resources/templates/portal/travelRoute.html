<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>旅游路线页</title>
<link href="css/style.css" rel="stylesheet" type="text/css" />
<link href="css/common.css" rel="stylesheet" type="text/css" />
    <style>
        a{
            cursor: pointer;
        }
    </style>
<script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="js/imgtoggle.js"></script>
<script type="text/javascript">
window.onload=function(){
    var iTgl=new k_iToggle();
        iTgl.init({
            boxId:'box',
            numId:'num',
            imgId:'imgs',
            isAuto:true,
            aCls:'act',
            iCls:'imgs1',
            direct:'crt'
        });
        chg(iTgl,'chg');
        _auto(iTgl,'auto_1');
        
    //改变方向
    function chg(o,id){
        $('#'+id).click(function(){
            if(o.direct()=='crt'){
                o.direct('lvl');
                $(this).text('纵向');
            }else{
                o.direct('crt');
                $(this).text('横向');
            }
        });
    }
    
    function _auto(o,id){
        $('#'+id).click(function(){
            if(o.isAuto){
                o.isAuto=false;
                $(this).text('自动播放已停止');
            }else{
                o.isAuto=true;
                o.auto();
                $(this).text('自动播放');
            }
        });
    }
}
</script>
<script type="text/javascript"> 
    $(function(){
        var wweya_li =$("div.tab_menu ul li");
        wweya_li.click(function(){
        $(this).addClass("selected")            
         .siblings().removeClass("selected");  
            var index =  wweya_li.index(this); 
        $("div.tab_box > div")  
        .eq(index).show(100)   
            .siblings().hide(); 
                }).hover(function(){
            $(this).addClass("hover");
        },function(){
            $(this).removeClass("hover");           
        });
    });
</script>
</head>
<body>
<div class="top_hw clearfix">
    <div class="top_h clearfix">
        <div class="top_hr">
            <a th:if="${session.userName==null}" th:href="@{/register}">会员注册</a>  |  <span th:if="${session.userName!=null}" th:text="'欢迎你，'+${session.userName}"></span>
            <a th:if="${session.userName==null}" th:href="@{/goLogin}">登录</a>  |  <a th:if="${session.userName!=null}" th:href="@{/goLogout}">退出</a></div>
    </div>
</div>
<div class="head_w">
    <div class="head_t clearfix">
        <img src="images/logo.png"/>
    </div>
</div>
<div class="mainNav clearfix">
    <ul class="Nav_ul">
        <li><a th:href="@{/index}">首页</a></li>
        <li class="cur"><a th:href="@{/travelRoute}">旅游路线</a></li>
        <li><a th:href="@{/travelSpot}">旅游景点</a></li>
        <li><a th:href="@{/hotelAccommodation}">餐饮住宿</a></li>
        <li ><a th:href="@{/car}">旅游车票</a></li>
        <li><a th:href="@{/insurance}">旅游保险</a></li>
        <li><a th:href="@{/strategy}">旅游攻略</a></li>
        <li ><a th:href="@{/attention}">注意事项</a></li>
        <li th:if="${session.userName!=null}"><a th:href="@{/userCenter}">会员中心</a></li>
    </ul>
</div>
<div class="b_wrap">
    <div class="current"><span>当前所在地：</span><a th:href="@{/index}">首页</a> >> <a th:href="@{/travelRoute}">旅游路线</a> </div>

    <div class="clumn_w clearfix">
        <div class="clumn_l">
            <div class="clumn">
                <div class="clumn_tit t01">旅游路线</div>
                <div class="clumn_con">
                    <div class="cln_w">
                        <p>热门主题</p>
                        <div class="cln_c clearfix">
                            <a href="https://baike.baidu.com/item/%E6%B8%A9%E6%B3%89/159" target="_blank">温泉</a>
                            <a href="https://baike.baidu.com/item/%E5%8F%A4%E9%95%87" target="_blank">古镇</a>
                            <a href="https://baike.baidu.com/item/%E6%B9%96%E6%B3%8A" target="_blank">湖泊</a>
                            <a href="https://baike.baidu.com/item/%E6%BB%91%E9%9B%AA/26193" target="_blank">滑雪</a>
                            <a href="https://baike.baidu.com/item/%E6%B5%B7%E8%BE%B9/5478955" target="_blank">海边</a>
                            <a href="https://baike.baidu.com/item/%E7%BE%8E%E9%A3%9F" target="_blank">美食</a>
                            <a href="https://baike.baidu.com/item/%E7%99%BB%E5%B1%B1/6176955" target="_blank">登山</a>
                            <a href="https://baike.baidu.com/item/%E4%B8%BB%E9%A2%98%E5%85%AC%E5%9B%AD" target="_blank">主题公园</a>
                        </div>
                    </div>
                </div>
                <p>&nbsp;</p>
                <p>&nbsp;</p>
                <p>&nbsp;</p>
                <p>&nbsp;</p>
                <div class="clumn_tit t01">景点推荐</div>
                <div class="clumn_con">
                    <div class="cln_w">
                        <ul style="width:100%;height: auto;padding:0px;">
                             <li th:each="var,iterStat: ${pageDataScenic}" style="text-align:center;font-size:20px;border:1px solid aqua;width:90%;height:200px;padding:10px;text-decoration: none;">
                                 <a th:href="@{/scenicSpotPortalView(id=${var.id})}">
                                 <img th:src="${var.imgUrl}"  style="width:100%;height:170px;"/>
                                 <span th:text="${var.spotName}"></span>
                                 </a>
                             </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="clumn_r01">
          <div class="js_box">
          <div class="js_tit clearfix">
            <div class="xs_w">显示方式：<a class="tw_a" href="#">图文</a></div>
            <form id="pageForm" name="pageForm" action="/travelRoute" method="post">
                <input type="hidden" id="count" name="count" th:value="${pageParam.count}"/>
                <input type="hidden" id="pageNumber" name="pageNumber" th:value="${pageParam.pageNumber}"/>
                <input type="hidden" id="size" name="size" th:value="${pageParam.size}"/>
                <input type="hidden" id="pageSize" name="pageSize" th:value="${pageParam.pageSize}"/>
              <div class="fy_w"><a href="#" th:text="${pageParam.pageNumber}+'/'+${pageParam.size}+'页'"> </a>
                  <a class="previousPage">上一页</a>
                  <a class="toPageOne">首页</a>
                  <a class="nextPage">下一页</a>
                  <a class="toPageLast">尾页</a>
              </div>
            </form>
          </div>
          <div class="js_wrap claerdix">
            <div class="js_con clearfix" th:each="var,iterStat: ${pageData}">
               <div class="js_l"><a th:href="@{/travelRoutePortalView(id=${var.id})}">
                   <img th:src="${var.imgUrl}" style="width:100px;height:75px;"/></a></div>
              <div class="js_c">
                <p><b><a th:href="@{/travelRoutePortalView(id=${var.id})}" th:text="${var.title}"></a></b></p>
               <!-- <p><a class="js_pl" href="#"><span>0</span>条评论</a> <a class="js_gm" href="#"><span>102</span>人购买</a></p>-->
                  <p th:text="'出团日期：'+${var.startTime}+'至'+${var.endTime}"></p>
                  <p th:text="'简介：'+${var.intro}"></p>
              </div>
              <div class="js_r">
                <p><span class="fn_o">￥</span><b th:text="${var.price}"></b>起</p>
              </div>
            </div>
          </div>
          </div>




        </div>
    </div>
</div>

<script>
    $(".previousPage").click(function(){
        if(parseInt($("#pageNumber").val())==1){
            $("#pageNumber").val(1);
            return;
        }else{
            $("#pageNumber").val(parseInt($("#pageNumber").val())-1);
            $("#pageForm").submit();
        }
    })

    $(".nextPage").click(function(){
        if(parseInt($("#pageNumber").val())==parseInt($("#size").val())){
            $("#pageNumber").val(parseInt($("#size").val()));
           /* alert("xia yi ye1 ");*/
            return;
        }else{
            $("#pageNumber").val(parseInt($("#pageNumber").val())+1);
            /*alert("xia yi ye2 ");*/
            $("#pageForm").submit();
        }
    })

    $(".toPageOne").click(function(){
        $("#pageNumber").val(1);
        $("#pageForm").submit();
    })

    $(".toPageLast").click(function(){
        $("#pageNumber").val(parseInt($("#size").val()));
        $("#pageForm").submit();
    })

</script>
</body>
</html>
